{"version":3,"sources":["webpack://exports/webpack/bootstrap","webpack://exports/./src/brand-setter.js","webpack://exports/./src/classes/color.js","webpack://exports/external \"sketch/dom\"","webpack://exports/external \"sketch/ui\""],"names":["UI","require","document","getSelectedDocument","brandCode","colors","getInputFromUser","type","INPUT_TYPE","selection","possibleValues","err","value","message","primary","Color","secondary","tertiary","setDefaultColor","update","fieldName","input","text","display","font","setColor","setText","setFontColor","getLayersNamed","sharedStyleId","getColorLayer","getSharedLayerStyleWithID","getSharedStyle","style","fills","color","localColor","i","length","textColor","setSharedStyle","layers","getAllInstancesLayers","syncWithSharedStyle","textOverlaid","findLocalText","j","outputColor","phoneBorderOverlaid","findLocalPhoneBorder","borders","colorLayer","artboard","getParentArtboard","filter","layer","frame","y","height","x","width","name","getTextLayer","slice","hidden","isWhite","getDisplayLayer","backgroundColor","rgb","hexToRgb","r","g","b","hex","result","exec","parseInt"],"mappings":"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","file":"brand-setter.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/brand-setter.js\");\n","import Color from \"./classes/color\";\nvar UI = require('sketch/ui');\nvar document = require('sketch/dom').getSelectedDocument();\n\nexport default function() {\n    var brandCode='';\n    var colors =['#ffffff','#ffffff','#ffffff'];\n    UI.getInputFromUser(\"Brand Name?\", {\n        type: UI.INPUT_TYPE.selection,\n        possibleValues: ['Coldwell Banker', 'Century 21', 'Sotheby\\'s International Realty','ERA']\n    }, (err, value) => {\n        brandCode = value;\n        if (err) {\n            // most likely the user canceled the input\n            throw err.message\n        }\n    });\n\n    switch (brandCode) {\n        case 'Coldwell Banker':\n            colors = ['#012169','#97999b','#7d9bc1'];\n            break;\n        case 'Century 21':\n            colors = ['#BEAF87','#252526','#E6E7E8'];\n            break;\n        case 'ERA':\n            colors = ['#C8120E','#250E62','#8A1538'];\n            break;\n        case 'Sotheby\\'s International Realty':\n            colors = ['#002349','#999999','#666666'];\n            break;\n        default:\n            colors = ['#ffffff','#ffffff','#ffffff'];\n    }\n    var primary = new Color(document, 'primary');\n    var secondary = new Color(document, 'secondary');\n    var tertiary = new Color(document, 'tertiary');\n\n    primary.setDefaultColor(colors[0]).update();\n    secondary.setDefaultColor(colors[1]).update();\n    tertiary.setDefaultColor(colors[2]).update();\n}","\nexport default class Color {\n    constructor(document, fieldName) {\n        this.document = document;\n        this.input = fieldName + \"-color-input\";\n        this.text = fieldName + \"-color-text\";\n        this.display = fieldName + \"-color-display\";\n        this.font = fieldName + \"-font-color\";\n    }\n\n    update() {\n        this.setColor();\n        this.setText();\n        this.setFontColor();\n    }\n\n    getColorLayer() {\n        return this.document.getLayersNamed(this.input)[0];\n    }\n\n    getTextLayer() {\n        return this.document.getLayersNamed(this.text)[0];\n    }\n\n    getSharedStyle() {\n        var sharedStyleId = this.getColorLayer().sharedStyleId;\n        return this.document.getSharedLayerStyleWithID(sharedStyleId);\n    }\n\n    setSharedStyle() {\n        this.getSharedStyle().style.fills[0].color = this.localColor();\n    }\n\n    getDisplayLayer() {\n        return this.document.getLayersNamed(this.display)[0];\n    }\n\n    setFontColor() {\n        var text = this.document.getLayersNamed(this.font);\n        for (var i = 0; i < text.length; i++) {\n            text[i].style.textColor = this.localColor()\n        }\n    }\n\n    localColor() {\n        return this.getColorLayer().style.fills[0].color\n    }\n\n    setDefaultColor(color) {\n        this.getColorLayer().style.fills[0].color = color;\n        return this;\n    }\n\n    setColor() {\n        this.setSharedStyle();\n        var layers = this.getSharedStyle().getAllInstancesLayers();\n        for (var i = 0; i < layers.length; i++) {\n            layers[i].style.syncWithSharedStyle(this.getSharedStyle());\n            var textOverlaid = this.findLocalText(layers[i]);\n            for (var j = 0; j < textOverlaid.length; j++) {\n                textOverlaid[j].style.textColor = this.outputColor(this.localColor())\n            }\n            var phoneBorderOverlaid = this.findLocalPhoneBorder(layers[i]);\n            for (var j = 0; j < phoneBorderOverlaid.length; j++) {\n                phoneBorderOverlaid[j].style.borders[0].color = this.outputColor(this.localColor())\n            }\n        }\n    }\n\n    findLocalText(colorLayer) {\n        var artboard = colorLayer.getParentArtboard();\n        return artboard.layers.filter(function (layer) {\n            return layer.type === 'Text' &&\n                layer.frame.y >= colorLayer.frame.y &&\n                layer.frame.y <= (colorLayer.frame.y + colorLayer.frame.height) &&\n                layer.frame.x >= colorLayer.frame.x &&\n                layer.frame.x <= (colorLayer.frame.x + colorLayer.frame.width)\n        })\n    }\n\n    findLocalPhoneBorder(colorLayer) {\n        var artboard = colorLayer.getParentArtboard();\n        return artboard.layers.filter(function (layer) {\n            return layer.type === 'ShapePath' && layer.name === 'phone-border' &&\n                layer.frame.y >= colorLayer.frame.y &&\n                layer.frame.y <= (colorLayer.frame.y + colorLayer.frame.height) &&\n                layer.frame.x >= colorLayer.frame.x &&\n                layer.frame.x <= (colorLayer.frame.x + colorLayer.frame.width)\n        })\n    }\n\n    isWhite() {\n        return (this.localColor() === '#ffffffff')\n    }\n\n    setText() {\n        this.getTextLayer().text = this.localColor().slice(0, -2);\n        this.getTextLayer().hidden = this.isWhite();\n        this.getDisplayLayer().hidden = this.isWhite();\n    }\n\n    outputColor(backgroundColor) {\n        var rgb = this.hexToRgb(backgroundColor.slice(0, -2));\n        if (rgb && ((rgb.r * 0.299 + rgb.g * 0.587 + rgb.b * 0.114) > 186)) {\n            return '#000000'\n        } else {\n            return '#ffffff'\n        }\n    }\n\n    hexToRgb(hex) {\n        var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n        return result ? {\n            r: parseInt(result[1], 16),\n            g: parseInt(result[2], 16),\n            b: parseInt(result[3], 16)\n        } : null;\n    }\n}","module.exports = require(\"sketch/dom\");","module.exports = require(\"sketch/ui\");"],"sourceRoot":""}